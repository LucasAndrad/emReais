<link href="https://fonts.googleapis.com/css?family=Josefin+Sans" rel="stylesheet"> 
<h1 class="home-title"> emReais.com </h1>

<div class="dolar-container">

	<span class="us-flag-home flag-icon flag-icon-us"></span>
		$ <input type="number" name="dolar-value" value="<%= @dolar_value %>" id="dolar-input" class="dolar-input-home coin-input-home">  

		<div class="total-dolares" id="total-dolares-result"> 
		= R$ <%= number_with_precision(InoxConverter.convertCurrency(@dolar_value, "USD", "BRL").round(2), precision: 2) %> 
		</div>
	<span class="br-flag-home flag-icon flag-icon-br"></span>	

</div>

<br>
<br>
<div class="other-coins-home">

	<div class="commun euro-container">
		<span class="us-flag-home flag-icon flag-icon-eu"></span>
			€ <input type="number" name="euro-value" value="<%= @euro_value %>" id="euro-input" class="euro-input-home coin-input-home">  

			<div class="total-euros" id="total-euros-result"> 
			= R$ <%= number_with_precision(InoxConverter.convertCurrency(@euro_value, "EUR", "BRL").round(2), precision: 2) %> 
			</div>
		<span class="br-flag-home flag-icon flag-icon-br"></span>
	</div>

	<div class="commun libra-container">
		<span class="us-flag-home flag-icon flag-icon-gb"></span>
			£ <input type="number" name="libra-value" value="<%= @libra_value %>" id="libra-input" class="euro-input-home coin-input-home">  

			<div class="total-euros" id="total-libras-result"> 
			= R$ <%= number_with_precision(InoxConverter.convertCurrency(@euro_value, "GBP", "BRL").round(2), precision: 2) %> 
			</div>
		<span class="br-flag-home flag-icon flag-icon-br"></span>

	</div>
</div>
<br><br><br>

<!-- <img class="flag" src="/assets/flags/4x3/af.svg" alt="Afghanistan Flag"> -->

<script type="text/javascript">

	$("#dolar-input").keyup(function(){
		let dolar = parseFloat($('#dolar-input').val(), 10);
		let new_dolar;
		console.log(dolar);
		if (dolar == null || isNaN(dolar)) { new_dolar = 0.00 }
		else {
			new_dolar = dolar * <%= @one_dolar %>
		}
		$('#total-dolares-result').html('= R$ '+new_dolar.toFixed(2));
	})

	$("#euro-input").keyup(function(){
		let euro = parseFloat($('#euro-input').val(), 10);
		let new_euros;
		console.log(euro);
		if (euro == null || isNaN(euro)) { new_euros = 0.00 }
		else {
			new_euros = euro * <%= @one_euro %>
		}
		$('#total-euros-result').html('= R$ '+new_euros.toFixed(2));
	})

	$("#libra-input").keyup(function(){
		let libra = parseFloat($('#libra-input').val(), 10);
		let new_libras;
		console.log(libra);
		if (libra == null || isNaN(libra)) { new_libras = 0.00 }
		else {
			new_libras = libra * <%= @one_libra %>
		}
		$('#total-libras-result').html('= R$ '+new_libras.toFixed(2));
	})

	
</script>